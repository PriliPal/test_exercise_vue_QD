(function(){"use strict";var s={5148:function(s,e,t){var a=t(9242),i=t(3396);function n(s,e,t,a,n,d){const l=(0,i.up)("header-navigate"),o=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(l),(0,i.Wm)(o,{class:"container"})],64)}function d(s,e,t,a,n,d){const l=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("nav",null,[(0,i.Wm)(l,{to:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("Главная")])),_:1}),(0,i.Uk)(" | "),(0,i.Wm)(l,{to:"/tasks"},{default:(0,i.w5)((()=>[(0,i.Uk)("Задачи")])),_:1})])])}var l={name:"HeaderNavigate"},o=t(89);const k=(0,o.Z)(l,[["render",d]]);var u=k,c={name:"App",components:{HeaderNavigate:u}};const r=(0,o.Z)(c,[["render",n]]);var p=r,T=t(2483);const h={class:"main"},m=(0,i._)("h2",null," Это главная страница. ",-1),v=(0,i._)("span",null," Сверху с помощью меню навигации можно перейти на страницу с задачами. ",-1),b=[m,v];function y(s,e,t,a,n,d){return(0,i.wg)(),(0,i.iD)("div",h,b)}var w={name:"main-page"};const f=(0,o.Z)(w,[["render",y]]);var g=f,C=t(7139);const D={class:"tasks-page"},I={class:"task-main"},M={class:"task-left"},E=["onClick"],O=(0,i._)("i",{class:"fa-solid fa-check"},null,-1),S=[O],U={class:"task-right"},K=["onClick"],V=(0,i._)("i",{class:"task-open-icon fas fa-chevron-down"},null,-1),A=[V],x=["onClick","id"],$=["id"],B={class:"tasks-options-list"},N=["onClick"],H=["onClick"],W={class:"task-additional"},Z={key:0},j={key:1};function L(s,e,t,n,d,l){const o=(0,i.up)("modal-add-task"),k=(0,i.up)("modal-edit-task"),u=(0,i.up)("modal-delete-task"),c=(0,i.up)("sub-tasks");return(0,i.wg)(),(0,i.iD)("div",D,[(0,i.Wm)(o,{visibility:d.modalVisibility.addTask,"onUpdate:visibility":e[0]||(e[0]=s=>d.modalVisibility.addTask=s),newTaskId:l.nextId,onAddTask:s.addNewTask},null,8,["visibility","newTaskId","onAddTask"]),(0,i.Wm)(k,{visibility:d.modalVisibility.editTask,"onUpdate:visibility":e[1]||(e[1]=s=>d.modalVisibility.editTask=s),currentTask:l.findTaskById(d.idCurrentModal),onEditTask:s.editTask},null,8,["visibility","currentTask","onEditTask"]),(0,i.Wm)(u,{visibility:d.modalVisibility.deleteTask,"onUpdate:visibility":e[2]||(e[2]=s=>d.modalVisibility.deleteTask=s),taskId:d.idCurrentModal,onDeleteTask:s.deleteTask},null,8,["visibility","taskId","onDeleteTask"]),(0,i._)("div",{onClick:e[3]||(e[3]=(...s)=>l.openAddModal&&l.openAddModal(...s)),class:"add-task cursor-pointer unselectable"}," Добавить задачу "),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.tasks,(e=>((0,i.wg)(),(0,i.iD)("div",{key:`task${e.id}`,class:"task unselectable"},[(0,i._)("div",I,[(0,i._)("div",M,[(0,i._)("div",{onClick:t=>s.checkTask(e.id),class:(0,C.C_)([e.done?"checked":"","task-check cursor-pointer"])},S,10,E),(0,i._)("span",{class:(0,C.C_)(["task-title",e.done?"line-through":""])},(0,C.zw)(e.title),3)]),(0,i._)("div",U,[(0,i._)("div",{onClick:s=>l.openTask(e.id),class:"open-task cursor-pointer"},A,8,K),(0,i._)("div",{onClick:s=>l.openOptions(e.id),class:"tasks-options cursor-pointer",id:`taskOptions${e.id}`},[(0,i._)("i",{class:"fa-solid fa-ellipsis-vertical",id:`taskOptionsIcon${e.id}`},null,8,$),(0,i.wy)((0,i._)("div",B,[(0,i._)("div",{onClick:s=>l.openEditModal(e.id),class:"edit-task cursor-pointer"}," Редактировать ",8,N),(0,i._)("div",{onClick:s=>l.openDeleteModal(e.id),class:"delete-task cursor-pointer"}," Удалить ",8,H)],512),[[a.F8,e.optionsOpened]])],8,x)])]),(0,i.wy)((0,i._)("div",W,[(0,i._)("div",null," Описание: "+(0,C.zw)(e.desc),1),""!==e.time?((0,i.wg)(),(0,i.iD)("div",Z," Время на выполнение: "+(0,C.zw)(e.time),1)):((0,i.wg)(),(0,i.iD)("div",j," Время на выполнение: не указано ")),(0,i.Wm)(c,{tasks:e.subTasks,taskId:e.id},null,8,["tasks","taskId"])],512),[[a.F8,e.opened]])])))),128))])}const F={class:"sub-task-label"},z={class:"modal-sub-inputs"},Y=["onUpdate:modelValue"],q=["onUpdate:modelValue"],P=["onClick"],G=(0,i._)("i",{class:"fa-regular fa-trash-can"},null,-1),J=[G],Q={key:0,class:"add-subtask"},R=(0,i._)("i",{class:"fa-solid fa-plus"},null,-1),X=[R],ss={class:"choice"};function es(s,e,t,n,d,l){return(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:"modal-window",onClick:e[10]||(e[10]=(0,a.iM)((s=>l.hideModal()),["stop"]))},[(0,i._)("div",{onClick:e[9]||(e[9]=(0,a.iM)((()=>{}),["stop"])),class:"modal-content"},[(0,i._)("div",null,[(0,i._)("div",null,[(0,i.wy)((0,i._)("input",{class:"modal-inputs",onKeyup:e[0]||(e[0]=(0,a.D2)((s=>l.addTask()),["enter"])),"onUpdate:modelValue":e[1]||(e[1]=s=>d.task.title=s),type:"text",placeholder:"Название"},null,544),[[a.nr,d.task.title]])]),(0,i._)("div",null,[(0,i.wy)((0,i._)("input",{class:"modal-inputs",onKeyup:e[2]||(e[2]=(0,a.D2)((s=>l.addTask()),["enter"])),"onUpdate:modelValue":e[3]||(e[3]=s=>d.task.time=s),type:"text",placeholder:"Время"},null,544),[[a.nr,d.task.time]])]),(0,i._)("div",null,[(0,i.wy)((0,i._)("input",{class:"modal-inputs",onKeyup:e[4]||(e[4]=(0,a.D2)((s=>l.addTask()),["enter"])),"onUpdate:modelValue":e[5]||(e[5]=s=>d.task.desc=s),type:"text",placeholder:"Описание"},null,544),[[a.nr,d.task.desc]])])]),(0,i._)("div",null,[(0,i.Uk)(" Добавить подзадачи "),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(d.newTask.subTasks,((s,e)=>((0,i.wg)(),(0,i.iD)("div",{key:`subTask${s.id}InNewTask${t.newTaskId}`},[(0,i._)("div",F,[(0,i._)("div",z,[(0,i.wy)((0,i._)("input",{class:"modal-sub-inputs-title","onUpdate:modelValue":s=>d.newTask.subTasks[e].title=s,type:"text",placeholder:"Название"},null,8,Y),[[a.nr,d.newTask.subTasks[e].title]]),(0,i.wy)((0,i._)("input",{class:"modal-sub-inputs-time","onUpdate:modelValue":s=>d.newTask.subTasks[e].time=s,type:"text",placeholder:"Время"},null,8,q),[[a.nr,d.newTask.subTasks[e].time]])]),(0,i._)("div",{onClick:e=>l.deleteSubTask(s.id),class:"sub-task-delete cursor-pointer"},J,8,P)])])))),128)),void 0!==d.newTask.subTasks&&d.newTask.subTasks.length<5?((0,i.wg)(),(0,i.iD)("div",Q,[(0,i._)("div",{onClick:e[6]||(e[6]=s=>l.addSubTaskInputs()),class:"add-subtask-button cursor-pointer"},X)])):(0,i.kq)("",!0)]),(0,i._)("div",ss,[(0,i._)("div",{onClick:e[7]||(e[7]=s=>l.addTask()),class:"save cursor-pointer unselectable"}," Добавить "),(0,i._)("div",{onClick:e[8]||(e[8]=s=>l.hideModal()),class:"cancel cursor-pointer unselectable"}," Отмена ")])])],512)),[[a.F8,t.visibility]])}t(7658);var ts={name:"ModalAddTask",props:{visibility:{type:Boolean,default:!1},newTaskId:{type:Number}},data(){return{task:{id:0,title:"",desc:"",done:!1,time:"",subTasks:[],opened:!1,optionsOpened:!1,deleted:!1},newTask:{}}},watch:{visibility(){this.task.title="",this.task.desc="",this.task.time="",this.task.subTasks=[],this.task.id=this.newTaskId,this.newTask=_.cloneDeep(this.task)},task:{handler(){this.newTask.title=this.task.title,this.newTask.desc=this.task.desc,this.newTask.time=this.task.time,this.newTask.subTasks=this.task.subTasks.filter((s=>!s.deleted))},deep:!0}},methods:{hideModal(){this.$emit("update:visibility",!1)},addTask(){let s=!0;""===this.newTask.title&&(s=!1),this.newTask.subTasks.forEach((e=>{""===e.title&&(s=!1)})),s?(console.log(this.newTask),this.$emit("addTask",this.newTask),this.hideModal()):(console.log(this.newTask.subTasks),alert("Поля название обязательно должно быть заполнены"))},addSubTaskInputs(){this.task.subTasks.push({id:this.task.subTasks.length+1,title:"",done:!1,time:"",deleted:!1})},deleteSubTask(s){this.task.subTasks.forEach((e=>{e.id===s&&(e.deleted=!0)}))}}};const as=(0,o.Z)(ts,[["render",es]]);var is=as;const ns={class:"task-info-inputs"},ds={class:"sub-task-label"},ls={class:"modal-sub-inputs"},os=["onUpdate:modelValue"],ks=["onUpdate:modelValue"],us=["onClick"],cs=(0,i._)("i",{class:"fa-regular fa-trash-can"},null,-1),rs=[cs],ps={key:0,class:"add-subtask"},Ts=(0,i._)("i",{class:"fa-solid fa-plus"},null,-1),hs=[Ts],ms={class:"choice"};function vs(s,e,t,n,d,l){return(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:"modal-window",onClick:e[10]||(e[10]=(0,a.iM)((s=>l.hideModal()),["stop"]))},[(0,i._)("div",{onClick:e[9]||(e[9]=(0,a.iM)((()=>{}),["stop"])),class:"modal-content"},[(0,i._)("div",ns,[(0,i.wy)((0,i._)("input",{class:"modal-inputs",onKeyup:e[0]||(e[0]=(0,a.D2)((s=>l.saveTask()),["enter"])),"onUpdate:modelValue":e[1]||(e[1]=s=>d.task.title=s),type:"text",placeholder:"Название"},null,544),[[a.nr,d.task.title]]),(0,i.wy)((0,i._)("input",{class:"modal-inputs",onKeyup:e[2]||(e[2]=(0,a.D2)((s=>l.saveTask()),["enter"])),"onUpdate:modelValue":e[3]||(e[3]=s=>d.task.time=s),type:"text",placeholder:"Время"},null,544),[[a.nr,d.task.time]]),(0,i.wy)((0,i._)("input",{class:"modal-inputs",onKeyup:e[4]||(e[4]=(0,a.D2)((s=>l.saveTask()),["enter"])),"onUpdate:modelValue":e[5]||(e[5]=s=>d.task.desc=s),type:"text",placeholder:"Описание"},null,544),[[a.nr,d.task.desc]])]),(0,i._)("div",null,[(0,i.Uk)(" Добавить подзадачи "),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(d.subTasks,((s,e)=>((0,i.wg)(),(0,i.iD)("div",{key:`subTask${s.id}InNewTask${t.currentTask}`},[(0,i._)("div",ds,[(0,i._)("div",ls,[(0,i.wy)((0,i._)("input",{class:"modal-sub-inputs-title","onUpdate:modelValue":s=>d.subTasks[e].title=s,type:"text",placeholder:"Название"},null,8,os),[[a.nr,d.subTasks[e].title]]),(0,i.wy)((0,i._)("input",{class:"modal-sub-inputs-time","onUpdate:modelValue":s=>d.subTasks[e].time=s,type:"text",placeholder:"Время"},null,8,ks),[[a.nr,d.subTasks[e].time]])]),(0,i._)("div",{onClick:e=>l.deleteSubTask(s.id),class:"sub-task-delete cursor-pointer"},rs,8,us)])])))),128)),void 0!==d.task.subTasks&&d.subTasks.length<5?((0,i.wg)(),(0,i.iD)("div",ps,[(0,i._)("div",{onClick:e[6]||(e[6]=s=>l.addSubTaskInputs()),class:"add-subtask-button cursor-pointer"},hs)])):(0,i.kq)("",!0)]),(0,i._)("div",ms,[(0,i._)("div",{onClick:e[7]||(e[7]=s=>l.saveTask()),class:"save cursor-pointer unselectable"}," Сохранить "),(0,i._)("div",{onClick:e[8]||(e[8]=s=>l.hideModal()),class:"cancel cursor-pointer unselectable"}," Отмена ")])])],512)),[[a.F8,t.visibility]])}var bs={name:"ModalEditTask",props:{visibility:{type:Boolean,default:!1},currentTask:{type:Object}},data(){return{task:{},subTasks:[]}},watch:{visibility(){this.task=_.cloneDeep(this.currentTask)},task:{handler(){this.subTasks=this.task.subTasks.filter((s=>!s.deleted))},deep:!0}},methods:{hideModal(){this.$emit("update:visibility",!1)},saveTask(){let s=!0;""===this.task.title&&(s=!1),this.subTasks.forEach((e=>{""===e.title&&(s=!1)})),s?(this.task.subTasks=this.subTasks,this.$emit("editTask",this.task),this.hideModal()):alert("Поля название обязательно должно быть заполнены")},addSubTaskInputs(){this.task.subTasks.push({id:this.task.subTasks.length+1,title:"",done:!1,time:"",deleted:!1})},deleteSubTask(s){this.subTasks.forEach((e=>{e.id===s&&(e.deleted=!0)}))}}};const ys=(0,o.Z)(bs,[["render",vs]]);var ws=ys;const fs=(0,i._)("div",null," Вы действительно хотите удалить эту задачу? ",-1),_s={class:"choice"};function gs(s,e,t,n,d,l){return(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:"modal-window",onClick:e[3]||(e[3]=(0,a.iM)((s=>l.hideModal()),["stop"]))},[(0,i._)("div",{onClick:e[2]||(e[2]=(0,a.iM)((()=>{}),["stop"])),class:"modal-content"},[fs,(0,i._)("div",_s,[(0,i._)("div",{onClick:e[0]||(e[0]=s=>l.deleteTask(t.taskId)),class:"delete cursor-pointer unselectable"}," Удалить "),(0,i._)("div",{onClick:e[1]||(e[1]=s=>l.hideModal()),class:"cancel cursor-pointer unselectable"}," Отмена ")])])],512)),[[a.F8,t.visibility]])}var Cs={name:"ModalDeleteTask",props:{visibility:{type:Boolean,default:!1},taskId:{type:Number}},methods:{hideModal(){this.$emit("update:visibility",!1)},deleteTask(s){this.$emit("deleteTask",s),this.hideModal()}}};const Ds=(0,o.Z)(Cs,[["render",gs]]);var Is=Ds;const Ms=["onClick"],Es=(0,i._)("i",{class:"fa-solid fa-check"},null,-1),Os=[Es],Ss={key:0},Us={key:1};function Ks(s,e,t,a,n,d){return(0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.tasks,(s=>((0,i.wg)(),(0,i.iD)("div",{key:`subTask${s.id}InTask${t.taskId}`,class:"sub-task"},[(0,i._)("div",{onClick:e=>d.check(s.id),class:(0,C.C_)([s.done?"checked":"","sub-task-check cursor-pointer"])},Os,10,Ms),(0,i._)("div",{class:(0,C.C_)(s.done?"line-through":"")},[(0,i.Uk)((0,C.zw)(s.title)+" - ",1),""!==s.time?((0,i.wg)(),(0,i.iD)("span",Ss,(0,C.zw)(s.time),1)):((0,i.wg)(),(0,i.iD)("span",Us,"Не указано"))],2)])))),128)}var Vs=t(65),As={name:"SubTasks",props:{tasks:{type:Array},taskId:{type:Number}},methods:{...(0,Vs.nv)({checkSubTask:"tasks/checkSubTask"}),check(s){let e={taskId:this.taskId,subTaskId:s};this.checkSubTask(e)}}};const xs=(0,o.Z)(As,[["render",Ks]]);var $s=xs,Bs={name:"tasks-page",components:{SubTasks:$s,ModalEditTask:ws,ModalAddTask:is,ModalDeleteTask:Is},data(){return{modalVisibility:{addTask:!1,editTask:!1,deleteTask:!1},idCurrentModal:1}},created(){window.addEventListener("click",this.popupListener,!1),this.tasks.forEach((s=>{s.opened=!1,s.optionsOpened=!1}))},unmounted(){window.removeEventListener("click",this.popupListener,!1)},computed:{tasks(){return this.$store.state.tasks.tasks.filter((s=>!s.deleted))},nextId(){return this.$store.state.tasks.tasks.length+1}},methods:{...(0,Vs.nv)({addNewTask:"tasks/addNewTask",editTask:"tasks/editTask",deleteTask:"tasks/deleteTask",checkTask:"tasks/checkTask"}),popupListener(s){this.tasks.forEach((e=>{document.getElementById(`taskOptions${e.id}`)!==s.target&&document.getElementById(`taskOptionsIcon${e.id}`)!==s.target&&(e.optionsOpened=!1)}))},openAddModal(){this.modalVisibility.addTask=!0},openEditModal(s){const e=this.findTaskById(s);this.idCurrentModal=e.id,this.modalVisibility.editTask=!0},openDeleteModal(s){const e=this.findTaskById(s);this.idCurrentModal=e.id,this.modalVisibility.deleteTask=!0},openTask(s){const e=this.findTaskById(s);e.opened=!e.opened},openOptions(s){const e=this.findTaskById(s);e.optionsOpened=!e.optionsOpened},findTaskById(s){for(let e=0;e<this.tasks.length;e++)if(this.tasks[e].id===s)return this.tasks[e]}}};const Ns=(0,o.Z)(Bs,[["render",L]]);var Hs=Ns;const Ws=[{path:"/",name:"main",component:g},{path:"/tasks",name:"tasks",component:Hs}],Zs=(0,T.p7)({history:(0,T.r5)(),routes:Ws});var js=Zs,Ls=t(2415),Fs={namespaced:!0,state(){return{tasks:[{id:1,title:"пропылесосить",desc:"во всех комнатах",done:!1,time:"в 2 часа дня",subTasks:[{id:1,title:"в туалете",done:!1,time:"5 минут",deleted:!1},{id:2,title:"в ванной",done:!1,time:"5 минут",deleted:!1},{id:3,title:"на кухне",done:!1,time:"5 минут",deleted:!1}],opened:!1,optionsOpened:!1,deleted:!1},{id:2,title:"сходить в поликлиннику",desc:"сдать анализы",done:!1,time:"в четверг",subTasks:[],opened:!1,optionsOpened:!1,deleted:!1},{id:3,title:"доделать курсовую",desc:"дописать практическую часть",done:!1,time:"до пятницы",subTasks:[],opened:!1,optionsOpened:!1,deleted:!1}]}},getters:{},mutations:{ADD_NEW_TASK(s,e){s.tasks.push(e)},EDIT_TASK(s,e){s.tasks[e.id-1]=e},DELETE_TASK(s,e){s.tasks.forEach((s=>{s.id===e&&(s.deleted=!0)}))},CHECK_TASK(s,e){s.tasks[e-1].done=!s.tasks[e-1].done,s.tasks[e-1].done&&s.tasks[e-1].subTasks.forEach((s=>{s.done=!0}))},CHECK_SUB_TASK(s,e){s.tasks[e.taskId-1].subTasks.forEach((s=>{s.id===e.subTaskId&&(s.done=!s.done)}))}},actions:{addNewTask(s,e){s.commit("ADD_NEW_TASK",e)},editTask(s,e){s.commit("EDIT_TASK",e)},deleteTask(s,e){s.commit("DELETE_TASK",e)},checkTask(s,e){s.commit("CHECK_TASK",e)},checkSubTask(s,e){s.commit("CHECK_SUB_TASK",e)}}};const zs=(0,Vs.MT)({plugins:[(0,Ls.Z)()],modules:{tasks:Fs}});(0,a.ri)(p).use(js).use(zs).mount("#app")}},e={};function t(a){var i=e[a];if(void 0!==i)return i.exports;var n=e[a]={exports:{}};return s[a].call(n.exports,n,n.exports,t),n.exports}t.m=s,function(){var s=[];t.O=function(e,a,i,n){if(!a){var d=1/0;for(u=0;u<s.length;u++){a=s[u][0],i=s[u][1],n=s[u][2];for(var l=!0,o=0;o<a.length;o++)(!1&n||d>=n)&&Object.keys(t.O).every((function(s){return t.O[s](a[o])}))?a.splice(o--,1):(l=!1,n<d&&(d=n));if(l){s.splice(u--,1);var k=i();void 0!==k&&(e=k)}}return e}n=n||0;for(var u=s.length;u>0&&s[u-1][2]>n;u--)s[u]=s[u-1];s[u]=[a,i,n]}}(),function(){t.n=function(s){var e=s&&s.__esModule?function(){return s["default"]}:function(){return s};return t.d(e,{a:e}),e}}(),function(){t.d=function(s,e){for(var a in e)t.o(e,a)&&!t.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:e[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(s){if("object"===typeof window)return window}}()}(),function(){t.o=function(s,e){return Object.prototype.hasOwnProperty.call(s,e)}}(),function(){var s={143:0};t.O.j=function(e){return 0===s[e]};var e=function(e,a){var i,n,d=a[0],l=a[1],o=a[2],k=0;if(d.some((function(e){return 0!==s[e]}))){for(i in l)t.o(l,i)&&(t.m[i]=l[i]);if(o)var u=o(t)}for(e&&e(a);k<d.length;k++)n=d[k],t.o(s,n)&&s[n]&&s[n][0](),s[n]=0;return t.O(u)},a=self["webpackChunktest_exercises_vue"]=self["webpackChunktest_exercises_vue"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=t.O(void 0,[998],(function(){return t(5148)}));a=t.O(a)})();
//# sourceMappingURL=app.80bf5338.js.map